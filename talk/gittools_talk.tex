\documentclass[english,hyperref={pdfpagelabels=false},aspectratio=169]{beamer}

\mode<handout>{
  \usepackage{pgf}
  \usepackage{pgfpages}
  \pgfpagesuselayout{2 on 1}[a4paper,border shrink=5mm]
}
\mode<presentation>{
  \usetheme{Juelich}
}

\usepackage[english]{babel}
\usepackage[scaled]{helvet}
\usepackage{graphics}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{listings}

\usepackage{hyperref}

\title{Git-ify Your (digital) Life}
\subtitle{Git-based tools to ease your life}
\author{Torbjörn Klatt <\href{mailto:t.klatt@fz-juelich.de}{t.klatt@fz-juelich.de}>}
\institute{JSC Internal Seminar}
\date{\today}
\setbeamertemplate{footer element3}{CC BY-SA 3.0}
\setbeamertemplate{slide counter}[showall]


\begin{document}
\maketitle

\begin{frame}
  \frametitle{Overview}
  \begin{description}
    \item[\hyperlink{git}{Git}] \hyperlink{git}{\textit{a short review}}
    \item[\hyperlink{etckeeper}{etckeeper}] \hyperlink{etckeeper}{\textit{keep your system's configs}}
    \item[\hyperlink{vcsh}{vcsh}] \hyperlink{vcsh}{\textit{version your \$HOME}}
    \item[\hyperlink{mr}{mr}] \hyperlink{mr}{\textit{my / multiple repositories}}
    \item[\hyperlink{gitannex}{git-annex}] \hyperlink{gitannex}{\textit{so meta!}}
    \item[\hyperlink{bup}{bup}] \hyperlink{bup}{\textit{backup with Git}}
    \item[\hyperlink{ikiwiki}{ikiwiki}] \hyperlink{ikiwiki}{\textit{Wiki compiler and publisher in a Git repo}}
    \item[\hyperlink{gcrypt}{gcrypt}] \hyperlink{gcrypt}{\textit{PGP-encrypted Git repositories}}
    \item[\hyperlink{gitodo}{gitodo}] \hyperlink{gitodo}{\textit{cmd-based ToDo List Manager in a Git repo}}
    \item[\hyperlink{tipps}{Tipps}] \hyperlink{tipps}{\textit{I can't resist \dots}}
  \end{description}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Git}
\makepart

\begin{frame}[label=git]
  \frametitle{Version Control System \textit{Git}}
  \framesubtitle{A short overview}
  \begin{itemize}
    \item decentralized / distributed\\
      {\scriptsize alike Mercurial/hg or Bazar in contrast to CVS or Subversion}
    \item designed by Linus ``\textit{the-one-and-only}'' Torwalds\\
      {\scriptsize\textit{Git} is British-English slang for ``\textit{unpleasant person}''}
    \item non-linear history\\
      {\scriptsize \textit{branching} and \textit{merging} is easy and performant}
    \item cryptological verification of revisions\\
      {\scriptsize each revision (\textit{commit}) has a unique SHA-1 hash computed from diff + meta info}
    \item no need for a server / everything is locally available\\
      {\scriptsize because of first point}
  \end{itemize}
\end{frame}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{etckeeper}
\makepart

\begin{frame}[label=etckeeper]
  \frametitle{etckepper}
  \framesubtitle{Keep Your System's Configurations\footnote{\tiny Windows users: sleep or think of moving to Linux}}
  \begin{itemize}
    \item creates a Git {\scriptsize\color{fzjgray50}(or Mercurial/Bazaar/Darcs)} repo for \texttt{/etc}
    \item uses additional meta-file for remembering permissions for each file\\
      {\scriptsize DVCS usually don't track file owner info; only executable bit}
    \item ueses \textit{pre-commit} hooks to fix file permissions
    \item hooks itself into package managers {\scriptsize\color{fzjgray50}(e.g. \textit{apt}, \textit{zypper})} to auto-commit \texttt{/etc} before and after package changes
    \item manual commits also possible
  \end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{vcsh}
\makepart

\begin{frame}[label=vcsh]
  \frametitle{vcsh -- Version Control System for (your) \$HOME}
  \framesubtitle{version \texttt{.profile}, \texttt{.\{bash,zsh,vim\}rc}, \dots without pollution}
  \begin{itemize}
    \item separate Git repositories for dotfiles\\
      {\scriptsize without polluting \$HOME with \texttt{.git} directories}
    \item easily migrate your personalized environment to other hosts\\
      {\scriptsize clone your \texttt{.vim} repository on new host to have it synchronized}
    \item allows for different branches for different hosts\\
      {\scriptsize e.g. ``\texttt{tklatt-zamws}'', ``\texttt{myself-laptop}'', ``\texttt{su-myserver}''}
    \item \textit{vcsh} is a single Shell script
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{vcsh -- Version Control System for (your) \$HOME}
  \framesubtitle{Example}
  \begin{block}{One Repository for Your Vim Config~\footnote{\tiny taken from vcsh's Readme}}
    \vspace{-0.75em}
    \begin{lstlisting}[language=sh,basicstyle=\scriptsize\ttfamily,commentstyle=\normalfont\ttfamily\color{fzjgray50}]
vcsh init vim
vcsh vim add ~/.vimrc ~/.vim
vcsh vim commit -m 'Initial commit of my Vim configuration'

# optionally push your files to a remote
vcsh vim remote add origin <remote>
vcsh vim push -u origin master

# from now on you can push additional commits like this
vcsh vim push
    \end{lstlisting}
    \vspace{-0.75em}
  \end{block}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{mr}
\makepart

\begin{frame}[label=mr]
  \frametitle{mr -- my / multiple repositories}
  \framesubtitle{}
  
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{git-annex}
\makepart

\begin{frame}[label=gitannex]
  \frametitle{git-annex -- Version Files Without Their Contents}
  \framesubtitle{So meta!~\footnote{\tiny Windows users: Wake up!}}
  \begin{itemize}
    \item saves meta info {\scriptsize\color{fzjgray50}(i.e. name, size)} of files without their contents
    \item saves actual files read-only in \texttt{.git/annex/objects}\\
      {\scriptsize symlinks them to original/real location}
    \item keeps track of which remote has which files\\
      {\scriptsize each remote identified by UUID}
    \item designed for flaky connections\\
      {\scriptsize uses rsync for data transfer}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{git-annex -- Version Files Without Their Contents}
  \framesubtitle{I mean, so really meta!}
  \begin{itemize}
    \item written in Haskell
    \item allows for special remotes
      \begin{itemize}
        \item Amazon S3 / Glacier
        \item WebDAV
        \item rsync
        \item the web {\scriptsize\color{fzjgray50}(\texttt{http(s)://}, \texttt{ftp://}, archive.org, arxiv.org/[format]/[ID], etc.)}
        \item podcast feeds
        \item XMPP
        \item simple directories
        \item gcrypt
      \end{itemize}
    \item example collection of conference proceedings {\scriptsize\color{fzjgray50}(slides + video recordings)}\\
      {\scriptsize \url{https://github.com/RichiH/conference_proceedings}}
  \end{itemize}
\end{frame}


\begin{frame}[fragile]
  \frametitle{git-annex -- Version Files Without Their Contents}
  \framesubtitle{Example Szenario: The Archivist}
  \begin{itemize}
    \item annex all files
    \item actual files offline in special remotes on USB drives, tapes, etc.
    \item having full information about name, size and location of all files in one place at hand
  \end{itemize}
  
  \begin{block}{Example}
    \vspace{-0.75em}
    \begin{lstlisting}[language=bash,basicstyle=\scriptsize\ttfamily,commentstyle=\normalfont\ttfamily\color{fzjgray50}]
#> git annex whereis
whereis my_cool_big_file (1 copy)
    7570b02e-15e9-11e0-adf0-9f3f94cb2eaa  -- backup drive
whereis other_file (3 copies)
    0c443de8-e644-11df-acbf-f7cd7ca6210d  -- here (laptop)
    62b39bbe-4149-11e0-af01-bb89245a1e61  -- usb drive
    7570b02e-15e9-11e0-adf0-9f3f94cb2eaa  -- backup drive
    \end{lstlisting}
    \vspace{-0.75em}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{git-annex -- Version Files Without Their Contents}
  \framesubtitle{Example Szenario: The Nomad}
  \begin{itemize}
    \item keep copies of data online (on internet)
    \item sync several local devices for occasional backup
    \item add data locally while on the road
    \item sync data to online remotes while at Internet café or friend's place
    \item perfect for photos while traveling
  \end{itemize}
\end{frame}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{bup}
\makepart

\begin{frame}[label=bup]
  \frametitle{bup -- Git for \textsc{Large} Files}
  \begin{itemize}
    \item recap: Git is designed for plaintext files\\
      {\scriptsize binary files are just a huge blob for Git; no diff possible}
    \item uses Git object trees and replaces hashing and packing algorithms
    \item designed for space-saving incremental backups
    \item backups can be FUSE mounted
    \item can be a special remote for git-annex
    \item written in Python
  \end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{ikiwiki}
\makepart

\begin{frame}[label=ikiwiki]
  \frametitle{ikiwiki -- Wiki Compiler and Publisher in a Git Repo}
  \framesubtitle{}
  \begin{itemize}
    \item 
  \end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{gcrypt}
\makepart

\begin{frame}[label=gcrypt]
  \frametitle{gcrypt -- PGP-encrypted Git repositories}
  \framesubtitle{}
  \begin{itemize}
    \item implements a git-remote-handler to deal with \texttt{gcrypt::} remotes
    \item can be a special remote for git-annex
    \item Remark: You might want to use Joey ``joeyh'' Hess' fork of gcrypt
  \end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{gitodo}
\makepart

\begin{frame}[label=gitodo,fragile]
  \frametitle{gitodo -- ToDo List Manager with Git}
  \framesubtitle{}
  \begin{itemize}
    \item simple commandline-based ToDo list management
    \item ToDos are managed in a single Git repository
    \item single portable Ruby script {\scriptsize\color{fzjgray50}(was a Shell script some time ago)}
  \end{itemize}
  \begin{block}{Example}
    \vspace{-0.75em}
    \begin{lstlisting}[language=sh,basicstyle=\scriptsize\ttfamily,commentstyle=\normalfont\ttfamily\color{fzjgray50}]
# gitodo
 S   Pri      Deadline         ID    Subject
---+-----+------------------+------+-----------------------------------
   |  -3 |                  |    2 | Christmas presents
 D |   0 |            22:00 |    9 | Remove garbage from your bed
 C |   0 |            23:30 |    8 | Go to sleep -- yes, it's important
   |   0 | 2013-12-10 23:59 |   10 | Still awake?
   |   0 | 2013-12-24       |    7 | Remove SVN from all computers
    \end{lstlisting}
    \vspace{-0.75em}
  \end{block}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Tipps}
\makepart

\begin{frame}[label=tipps]
  \frametitle{Tipps}
  \framesubtitle{I can't resist \dots}
  \begin{itemize}
    \item portable GUI for Git {\scriptsize\color{fzjgray50}(browsing and actions)}: \textit{git-cola}\footnote{\tiny\url{https://github.com/git-cola/git-cola}}
    \item Zsh
      \begin{itemize}
        \item very powerful built-in completion for most programs {\scriptsize\color{fzjgray50}(Git: incl. selecting branches/tags)}
        \item prompt-integrated info about current VCS working copy
        \item highly customizable prompt {\scriptsize\color{fzjgray50}(left and right)}
        \item can mimic Bash, Ksh, tcsh {\scriptsize\color{fzjgray50}(never tried it myself)}
      \end{itemize}
    \item Finally:
      \begin{center}
        \structure{You cannot time travel in real-life.\\
          But you can in your digital life, selectively!}
      \end{center}
  \end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Project Links}
  \begin{description}
    \item[etckeeper] \url{https://joeyh.name/code/etckeeper/}
    \item[vcsh] \url{https://github.com/RichiH/vcsh}
    \item[mr] \url{https://github.com/joeyh/myrepos}
    \item[git-annex] \url{https://git-annex.branchable.com/}
    \item[bup] \url{https://github.com/bup/bup}
    \item[ikiwiki] \url{https://ikiwiki.info/}
    \item[gcrypt] \url{https://github.com/blake2-ppc/git-remote-gcrypt}
    \item[gitodo] \url{https://github.com/vain/gitodo}
  \end{description}
\end{frame}


\begin{frame}
  \frametitle{Sources}
  \begin{itemize}
    \item This talk is heavily inspired by Richard ``RichiH'' Hartman's talk at \textit{Linuxtag 2013}
      \footnote{\tiny\url{http://www.linuxtag.org/2013/de/program/mittwoch-22-mai-2013.html?eventid=147}}
    \item official and unofficial documentation of named tools
    \item (long-term) experiments with named tools
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{~}
  \begin{center}
    {\huge Thank you for your interest!}\par
    \bigskip
    \bigskip
    \bigskip
    \bigskip
    {\Large Questions?}\par
    {\scriptsize\color{fzjgray50}(now or later)}
    \bigskip
    \bigskip
  \end{center}
\end{frame}



\end{document}

